@{
    ViewBag.Title = "Главная";
}

@functions{
    public string GetAntiForgeryToken()
    {
        string cookieToken, formToken;
        AntiForgery.GetTokens(null, out cookieToken, out formToken);
        return cookieToken + ":" + formToken;
    }
}


@if (@User.Identity.IsAuthenticated)
{
    <div id="main-content" data-ng-app="tasks">
        <div class="ajax-indicator">
            <img src="~/Content/images/ajax-loader.gif" />
        </div>   
        <div data-ng-view></div> <!-- The SPA Views go here -->
    </div>
    <input id="antiForgeryToken" type="hidden" value="@GetAntiForgeryToken()" />    
    
    @section styles {
        @Styles.Render("~/Content/angular")                
    }
        
    @section scripts {
        @Scripts.Render("~/bundles/angular")        
        @Scripts.Render("~/bundles/tasks")
    }
}
else
{
    @Html.Partial("_Login")
}
